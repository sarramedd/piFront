
<app-header-user></app-header-user>
	<!-- /HEADER -->
	 
	<!-- NAVIGATION -->
<!-- NAVIGATION -->
<app-sidebar-front></app-sidebar-front>
<div class="container mt-4">
  <div class="section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="section-title">
            <h3 class="title">Confirmer votre commande</h3>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-8 offset-md-2">
          <div class="order-form">
            <div *ngIf="error" class="error-message">
              {{ error }}
            </div>

            <div *ngIf="item" class="order-details">
              <h2>Détails de la commande</h2>
              
              <div class="detail-row">
                <span class="label">Nom de l'item :</span>
                <span class="value">{{ item.name }}</span>
              </div>

              <div class="detail-row">
                <span class="label">Description :</span>
                <span class="value">{{ item.description }}</span>
              </div>

              <div class="detail-row">
                <span class="label">Prix original :</span>
                <span class="value price">{{ item.price | currency:'EUR' }}</span>
              </div>

              <div *ngIf="activeDiscount" class="discount-info">
                <div class="detail-row">
                  <span class="label">Réduction :</span>
                  <span class="value highlight">{{ activeDiscount.percentage }}%</span>
                </div>
                <div class="detail-row">
                  <span class="label">Nom de la réduction :</span>
                  <span class="value">{{ activeDiscount.name }}</span>
                </div>
                <div class="detail-row">
                  <span class="label">Valable jusqu'au :</span>
                  <span class="value">{{ activeDiscount.endDate | date:'dd/MM/yyyy' }}</span>
                </div>
              </div>

              <div class="detail-row">
                <span class="label">Prix final :</span>
                <span class="value price">{{ discountedPrice | currency:'EUR' }}</span>
              </div>
            </div>

            <div class="description-section">
              <h3>Description de la commande</h3>
              <textarea
                class="description-input"
                [(ngModel)]="orderDescription"
                placeholder="Ajoutez une description à votre commande..."
                rows="4"
              ></textarea>
            </div>

            <div class="action-buttons">
              <button
                class="confirm-button"
                (click)="createOrder()"
                [disabled]="loading"
              >
                <span *ngIf="loading" class="loading-spinner"></span>
                {{ loading ? 'Traitement en cours...' : 'Confirmer la commande' }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>